\documentclass[a0,landscape]{a0poster}

\usepackage[paper=a0paper, landscape, margin=2cm]{geometry}

\usepackage{multicol} % This is so we can have multiple columns of text side-by-side
\columnsep=100pt % This is the amount of white space between the columns in the poster
\columnseprule=1pt

\usepackage{tikz}
\usetikzlibrary{shapes.geometric, arrows.meta}

\usepackage{sectsty}
\sectionfont{\huge\selectfont}

\renewcommand\familydefault{\sfdefault} 
\usepackage[scaled]{helvet}
\usepackage[T1]{fontenc}

\usepackage{graphicx} % Required for including images
\usepackage{subfig}
\usepackage{booktabs} % Top and bottom rules for table
\usepackage[font=small,labelfont=bf]{caption} % Required for specifying captions to tables and figures
\usepackage{amsfonts, amsmath, amsthm, amssymb} % For math fonts, symbols and environments
\usepackage{wrapfig} % Allows wrapping text around tables and figures

\renewcommand{\figurename}{Fig.}
\usepackage[hypcap=false]{caption}
\captionsetup{margin=0.5cm,font=normalsize,labelfont=bf}
\captionsetup[subfloat]{margin=0.5cm,font=normalsize,labelfont=bf}

\newenvironment{Figure}
  {\par\medskip\noindent\minipage{\linewidth}}
  {\endminipage\par\medskip}

\usepackage[hidelinks]{hyperref}

\usepackage{pgfplots}
\usepackage{pgfplotstable}
\pgfplotsset{compat=newest}
\usepgfplotslibrary{groupplots}

\definecolor{tableau_blue}{RGB}{31, 119, 180}
\definecolor{tableau_red}{RGB}{214, 39, 40}
\definecolor{tableau_green}{RGB}{44, 160, 44}

\definecolor{tableau_blue_bg}{RGB}{174, 199, 232}
\definecolor{tableau_red_bg}{RGB}{255, 152, 150}
\definecolor{tableau_green_bg}{RGB}{152, 223, 138}
\definecolor{tableau_orange_bg}{RGB}{255, 187, 120}

%\tikzstyle{startstop} = [rectangle, rounded corners, minimum width=3cm, minimum height=1cm,text centered, draw=black, fill=tableau_red_bg]
\tikzstyle{io} = [trapezium, trapezium left angle=70, trapezium right angle=110, minimum width=3cm, minimum height=1cm, text centered, draw=black, fill=tableau_red_bg]
\tikzstyle{process} = [rectangle, minimum width=3cm, minimum height=1cm, text centered, draw=black, fill=tableau_blue_bg]
\tikzstyle{decision} = [diamond, minimum width=3cm, minimum height=1cm, text centered, draw=black, fill=tableau_green_bg]
\tikzstyle{arrow} = [thick,-{Latex[length=3mm, width=3mm]}]

\begin{document}

\tikz[remember picture,overlay] \node[inner sep=0pt, anchor=north] at (current page.north){\includegraphics[width=\paperwidth,height=12cm]{GreenBackground.pdf}};

\vspace{-1cm}
\begin{minipage}[t]{0.3\linewidth}
\vspace{0pt}
\includegraphics[width=0.9\textwidth]{UofALogo.pdf}
\end{minipage}
%
\begin{minipage}[t]{0.7\linewidth}
\vspace{0.75cm}
\color{white}
\veryHuge \textbf{\textsc{Redliner: An Activity Monitor for Manual Wheelchair Users}}\\[1cm]
\huge {Kenton Hamaluik, MSc, EIT\textsuperscript{1}, Zohreh Salimi, MSc\textsuperscript{2}, Martin Ferguson-Pell, PhD, C.Phys.\textsuperscript{3}}\\
\large \textsuperscript{1}\href{mailto:hamaluik@ualberta.ca}{hamaluik@ualberta.ca}, \textsuperscript{2}\href{mailto:zsalimi@ualberta.ca}{zsalimi@ualberta.ca}, \textsuperscript{3}\href{mailto:martin.ferguson-pell@ualberta.ca}{martin.ferguson-pell@ualberta.ca}\\
%\large \textsuperscript{1,2,3}Faculty of Rehabilitation Medicine, University of Alberta;\ \textsuperscript{3}Peter Lougheed Leadership College\\
\end{minipage}

\vspace{3cm}

\begin{multicols*}{3}
\large

\section*{Background}
\begin{minipage}[t]{0.55\columnwidth}
    \begin{itemize}
        \item Wheelchair users have a need for daily activity monitoring
            \begin{itemize}
                \item Manual wheelchair users are highly susceptible to repetitive stress injuries \cite{mercer06}
                \item Repeated propulsion forces over 80\% of maximum capacity results in injuries \cite{hills11}
            \end{itemize}
        \item Typical existing activity monitors (Fitbit\textsuperscript{\textregistered}, etc.) \textbf{don't work} with manual wheelchair users
        \item SmartWheels are the gold standard \cite{asato93,cowan08}
            \begin{itemize}
                \item Prohibitively expensive for users
                \item Require chair modification (swap wheels)
            \end{itemize}
    \end{itemize}
\end{minipage}
\hspace{0.05\columnwidth}%
\begin{minipage}[t]{0.4\columnwidth}
    \begin{Figure}
        \centering
        \includegraphics[width=\linewidth]{photos/smartwheel.png}
        \captionof{figure}{A SmartWheel instrumented wheelchair wheel.}
        \label{fig:smartwheel}
    \end{Figure}
\end{minipage}

\section*{Objective}
\begin{itemize}
    \item Create an \textbf{inexpensive} activity monitor for \textbf{manual wheelchair users} which continuously monitors the following:
    \begin{itemize}
        \item Number of propulsion strokes
        \item Average travel velocity
        \item Amount of time spent active
        \item Estimated distance travelled
        \item Number of ``redline events'' (when propulsion force exceeds 80\% of maximum capacity)
    \end{itemize}
\end{itemize}

\section*{Method}
\begin{minipage}[t]{0.45\columnwidth}
     \begin{Figure}
        \centering
        \includegraphics[width=0.75\linewidth]{photos/redliner_alpha.png}
        \captionof{figure}{Original Redliner prototype, assembled using breakout boards}
        \label{fig:redliner:alpha}
    \end{Figure}
\end{minipage}
%\hspace{0.05\columnwidth}%
\begin{minipage}[t]{0.55\columnwidth}
    \begin{itemize}
        \item Utilize Newton's laws of motion to estimate propulsion force using kinematic data and Kalman filtering
        \item Create a simple prototype to perform the measurements for analysis
        \item Collect and compare synchronous propulsion data between SmartWheel and Redliner across varied terrain:
        \begin{itemize}
            \item Linoleum
            \item Grass
            \item Gravel
            \item Pavement
        \end{itemize}
    \end{itemize}
\end{minipage}

\begin{itemize}
    \item Velocity and acceleration are calculated using the following, where $\Delta a$ is the differential centripetal acceleration at two radial points on the wheel and $d$ is the distance between the points.
\end{itemize}

\begin{minipage}{0.5\columnwidth}
    \begin{equation}
        \omega = \sqrt{\frac{\Delta a}{d}}
        \label{equ:velocity}
    \end{equation}
\end{minipage}
%
\begin{minipage}{0.5\columnwidth}
    \begin{equation}
        \alpha = \frac{\partial \omega}{\partial t}
        \label{equ:acceleration}
    \end{equation}
\end{minipage}

\section*{Results}
\begin{itemize}
    \item Velocity and acceleration data from both Redliner and SmartWheel were collected and compared (see Fig. \ref{fig:10pushgravel} for a sample on rough gravel)
    \begin{itemize}
        \item Both velocity and acceleration are highly correlated between Redliner and Smartwheel
        \item Redliner velocity and acceleration data is accurate enough to estimate:
        \begin{itemize}
            \item Distance travelled
            \item Average velocity
            \item Time spent active
            \item Number of pushes
            \item Redline events
        \end{itemize}
    \end{itemize}
\end{itemize}

\begin{Figure}
    \centering
    \begin{tikzpicture}
        \begin{groupplot}[group style={group size=1 by 2,
            horizontal sep=0pt,
            vertical sep=2cm}
        ]
            \nextgroupplot[
                legend cell align=left,
                width=0.8\linewidth,height=0.3\linewidth,
                xmin=0, xmax=26, ymin=-0.25, ymax=1.75,
                xtick={0,2,...,26}, ytick={0,0.4,...,1.6}, grid=both,
                axis lines=left,
                ylabel={Velocity, $v$, $\frac{\mathrm{m}}{\mathrm{s}}$}
            ]
            \addplot +[mark=noindent, line width=4pt, tableau_blue] table{data/assets/gravel_10_swv.dat}; \addlegendentry{\small\ SmartWheel}
            \addplot +[mark=noindent, line width=4pt, tableau_red] table{data/assets/gravel_10_rlv.dat}; \addlegendentry{\small\ Redliner}
            \node at (axis cs:0.4,1.7) [anchor=north west] [rectangle,draw,fill=white]{\small Pearson-R: 0.985};
            \nextgroupplot[
                width=0.8\linewidth,height=0.3\linewidth,
                xmin=0, xmax=26, ymin=-1.5, ymax=2.0,
                xtick={0,2,...,26}, ytick={-1.5,-1.0,...,2.0}, grid=both,
                axis lines=left,
                xlabel={Time, $t$ (s)}, ylabel={Acceleration, $a$, $\frac{\mathrm{m}}{\mathrm{s}^2}$}
            ]
            \addplot +[mark=noindent, line width=4pt, tableau_blue] table{data/assets/gravel_10_swa.dat};
            \addplot +[mark=noindent, line width=4pt, tableau_red] table{data/assets/gravel_10_rla.dat};
            \node at (axis cs:25.6,1.9) [anchor=north east] [rectangle,draw,fill=white]{\small Pearson-R: 0.823};
        \end{groupplot}
    \end{tikzpicture}
    \captionof{figure}{Velocity and acceleration of SmartWheel and Redliner for 10 pushes on rough gravel.}
    \label{fig:10pushgravel}
\end{Figure}

\begin{itemize}
    \item To detect pushes an algorithm was developed (Fig. \ref{fig:algorithm}), with results in Fig. \ref{fig:10pushgravel_pushes}.
\end{itemize}

\begin{Figure}
    \small
    \centering
    \begin{tikzpicture}[node distance=4cm, every text node part/.style={align=center}]
        \node (measure) [io] {$\alpha$};
        \node (isaccelerating) [decision, right of=measure, xshift=2cm] {$\alpha \geq \alpha_{active}$};
        \node (setpushing) [process, right of=isaccelerating, xshift=2cm] {$P = 1$ \\ $t_0 = t$ \\ $R = 0$ \\ $\alpha_d = 0$};
        \node (isredlining) [decision, right of=setpushing, xshift=2cm] {$\alpha + \alpha_d \geq \alpha_{cap}$ \\ $t - t_0 \geq t_{min}$};
        \node (setredlining) [process, right of=isredlining, xshift=3cm] {$R = 1$};

        \node (ispushing) [decision, below of=setpushing, yshift=-2cm] {$P$};
        \node (notpushing) [process, right of=ispushing, xshift=2cm] {$P = 0$};
        \node (islongenough) [decision, right of=notpushing, xshift=2cm] {$t_{push} \geq t_{min}$};
        \node (incrpushes) [process, right of=islongenough, xshift=3cm] {$p = p + 1$};

        \node (wasredlining) [decision, below of=ispushing, yshift=-1cm] {$R$};
        \node (notredlining) [process, right of=wasredlining, xshift=2cm] {$R = 0$ \\ $r = r + 1$};

        \node (isdecelerating) [decision, below of=wasredlining, yshift=-1cm] {$\alpha < -\alpha_{active}$};
        \node (decelerating) [process, right of=isdecelerating, xshift=2cm] {$\alpha_d = \left|\alpha\right|$};

        \draw [arrow] (measure) -- (isaccelerating);
        \draw [arrow] (isaccelerating) -- node[anchor=south] {no} (setpushing);
        \draw [arrow] (setpushing) -- (isredlining);
        \draw [arrow] (isredlining) -- node[anchor=south] {yes} (setredlining);

        \draw [arrow] (isaccelerating.south) |- node[anchor=south west] {yes} (ispushing.west);
        \draw [arrow] (ispushing) -- node[anchor=south] {yes} (notpushing);
        \draw [arrow] (notpushing) -- (islongenough);
        \draw [arrow] (islongenough) -- node[anchor=south] {yes} (incrpushes);

        \draw [arrow] (isaccelerating.south) |- node[anchor=south west] {yes} (wasredlining.west);
        \draw [arrow] (wasredlining) -- node[anchor=south] {yes} (notredlining);

        \draw [arrow] (isaccelerating.south) |- node[anchor=south west] {yes} (isdecelerating.west);
        \draw [arrow] (isdecelerating) -- node[anchor=south] {yes} (decelerating);
    \end{tikzpicture}
    \captionof{figure}{Push detection algorithm}
    \label{fig:algorithm}
\end{Figure}

\begin{Figure}
    \centering
    \begin{tikzpicture}
        \begin{axis}[
            legend cell align=left,
            width=0.8\linewidth,height=0.25\linewidth,
            xmin=0, xmax=26, ymin=-1, ymax=2.0,
            xtick={0,2,...,26}, ytick={-1.0,-0.5,...,2.0}, grid=both,
            axis lines=left,
            xlabel={Time, $t$ (s)}, ylabel={Acceleration, $a$, $\frac{\mathrm{m}}{\mathrm{s}^2}$}]
            \addplot +[mark=noindent, line width=4pt, tableau_blue] table{data/assets/gravel_10_rla.dat}; \addlegendentry{\small\ Acceleration}
            \addplot +[mark=noindent, line width=4pt, tableau_green] table{data/assets/gravel_10_pushes.dat}; \addlegendentry{\small\ Detected Pushes}
            \addplot +[mark=noindent, line width=4pt, tableau_red] table{data/assets/gravel_10_redline.dat}; \addlegendentry{\small\ Redline Events}
        \end{axis}
    \end{tikzpicture}
    \captionof{figure}{Acceleration, detected pushes, and redlines of 10 pushes on gravel as measured by Redliner.}
    \label{fig:10pushgravel_pushes}
\end{Figure}

\begin{itemize}
    \item Redliner Inc. has been created to move the project forward
    \begin{itemize}
        \item New prototypes and software developed
        \item More extensive testing
    \end{itemize}
\end{itemize}

\noindent
\begin{minipage}{\columnwidth}
\makeatletter
\newcommand{\@captype}{figure}
\makeatother
\centering
\subfloat[Second Redliner prototype version using a custom PCB built for further testing.]{%
  \includegraphics[width=0.4\linewidth]{photos/redliner_beta.png}%
  \label{fig:redliner_photo:beta}%
}\qquad%
\subfloat[Android app developed to interact with Redliner and upload data to a cloud-based dashboard.]{%
  \makebox[0.4\linewidth][c]{\includegraphics[height=0.4\linewidth]{photos/app_screenshot.png}}%
  \label{fig:redliner:app}%
}
\caption{Ongoing commercial development of Redliner}
\end{minipage}

\section*{Conclusions}
\begin{itemize}
    \item Redliner is a new activity monitor for manual wheelchair users
    \item Redliner has been validated against ``gold standard'' SmartWheels
    \item Redliner is capable of monitoring activity and over-exertion
    \item Redliner is being developed as a consumer device
\end{itemize}

\small
\nocite{*}
\bibliographystyle{unsrt}
\bibliography{sources}

\section*{Acknowledgements}
The authors thank the University of Alberta, Telus, Mitacs Accelerate Program, and Redliner Inc. for funding this work.

\end{multicols*}
\end{document}
